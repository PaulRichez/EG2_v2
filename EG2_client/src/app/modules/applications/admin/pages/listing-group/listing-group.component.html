<div class="col-12 flex justify-content-between mb-3">
    <div>
        <b class="text-4xl">Listing groupes</b>
        <br />
        <i class="text-sm"></i>
    </div>
    <div>
        <p-button label="Nouveau" styleClass="p-button-sm" (click)="add()"></p-button>
    </div>
</div>
<p-card>
    <p-table responsiveLayout="scroll" [value]="groups" [lazy]="true" (onLazyLoad)="fetchGroups($event)"
        [paginator]="true" [rows]="25" [totalRecords]="totalRecords" [loading]="loadingData"
        [showCurrentPageReport]="true" [rowsPerPageOptions]="[25,50]"
        currentPageReportTemplate="{first} à {last} groupes, {totalRecords} groupes">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th pSortableColumn="name">
                    Nom du groupe
                    <p-sortIcon field="name"></p-sortIcon>
                </th>
                <th pSortableColumn="description">
                    Description
                    <p-sortIcon field="description"></p-sortIcon>
                </th>
                <th pSortableColumn="createdAt">
                    Date de création
                    <p-sortIcon field="createdAt"></p-sortIcon>
                </th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-group>
            <tr>
                <td>
                    {{group.name}}
                </td>
                <td>
                    {{group.description}}
                </td>
                <td>
                    {{group.createdAt | amTimeAgo}}
                </td>
                <td>
                    <button pButton type="button" class="p-button-rounded" icon="fa-solid fa-pen"
                        (click)="edit(group)"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</p-card>